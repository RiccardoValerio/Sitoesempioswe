{%- assign dir  = include.dir  | default: "" -%}
{%- assign exts = include.exts | default: "pdf" | downcase | split: "," -%}

{%- comment -%} Prendiamo tutti i file statici dentro la cartella indicata {%- endcomment -%}
{%- assign files = site.static_files | where_exp: "f", "f.path contains dir" -%}

{%- assign paths = "" -%}
{%- for f in files -%}
  {%- assign fname = f.path | split: "/" | last -%}
  {%- assign fext  = fname  | split: "." | last | downcase -%}

  {%- assign matched = false -%}
  {%- for e in exts -%}
    {%- assign e_trim = e | strip -%}
    {%- if fext == e_trim -%}
      {%- assign matched = true -%}
    {%- endif -%}
  {%- endfor -%}

  {%- if matched -%}
    {%- assign paths = paths | append: f.path | append: ";" -%}
  {%- endif -%}
{%- endfor -%}

{%- assign list = paths | split: ";" | sort -%}
{%- if list.size > 0 -%}
<ul class="file-list">
  {%- for p in list -%}
    {%- if p != "" -%}
      {%- assign filename = p | split: "/" | last -%}
      <li><a href="{{ site.baseurl }}{{ p }}" target="_blank" rel="noopener">{{ filename }}</a></li>
    {%- endif -%}
  {%- endfor -%}
</ul>
{%- endif -%}
