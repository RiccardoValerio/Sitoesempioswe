{%- assign dir = include.dir | default: "" -%}
{%- assign exts = include.exts | default: "pdf" | split: "," -%}

{%- assign files = site.static_files | where_exp: "file", "file.path contains dir" -%}

{%- assign filtered = "" -%}
{%- for file in files -%}
  {%- assign path = file.path | downcase -%}
  {%- assign matched = false -%}
  {%- for ext in exts -%}
    {%- assign ext_str = "." | append: ext | strip -%}
    {%- if path endswith ext_str -%}
      {%- assign matched = true -%}
    {%- endif -%}
  {%- endfor -%}
  {%- if matched -%}
    {%- assign filtered = filtered | append: file.path | append: ";" -%}
  {%- endif -%}
{%- endfor -%}

{%- assign list = filtered | split: ";" | sort -%}
{%- if list.size > 0 -%}
<ul class="file-list">
  {%- for path in list -%}
    {%- if path != "" -%}
      {%- assign filename = path | split: "/" | last -%}
      <li><a href="{{ site.baseurl }}{{ path }}" target="_blank" rel="noopener">{{ filename }}</a></li>
    {%- endif -%}
  {%- endfor -%}
</ul>
{%- endif -%}
